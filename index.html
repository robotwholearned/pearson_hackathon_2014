<html>
    <head>
        <title>My first Three.js app</title>
        <style>
            canvas { 
                width: 100%; 
                height: 100%; 
                margin-left: auto; 
                margin-right: auto; 
                display: block;
            }
        </style>
    </head>
    <body>
        <script src="js/three.min.js"></script>
        <script>
            //need a camera, a scene, and a renderer
            var scene = new THREE.Scene();
            //args:     1. field of view - extent of the observable world that is seen at any given moment
            //          2. aspect ratio - You almost always want to use the width of the element divided by the height, or you'll get the same result as when you play old movies on a widescreen TV - the image looks squished.
            //          3. near clipping plane
            //          4. far clipping plane
            //          -objects further away from the camera than the value of far or closer than near won't be rendered.
            var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

            //renderer: 
            //In addition to the WebGLRenderer we used here, Three.js comes with a few others, often used as fallbacks for users with older browsers or for those who don't have WebGL support for some reason
            var renderer = new THREE.WebGLRenderer();
            //need to set the size at which we want it to render our app
            //for performance setSize(window.innerWidth/2 and window.innerHeight/2), for half the resolution
            //does not mean that the game will only fill half the window, but rather look a bit blurry and scaled up
            //@90% so that it doesn't do weird scroll bar thing
            renderer.setSize( window.innerWidth*0.9, window.innerHeight*0.9);
            //console.log("innerWidth:" + window.innerWidth);
            //console.log("innerHeight:" + window.innerHeight);
            //<canvas> element the renderer uses to display the scene to us.
            document.body.appendChild( renderer.domElement );

            //add cube
            //boxGeometry - an object that contains all the points (vertices) and fill (faces) of the cube
            var geometry = new THREE.BoxGeometry(1,1,1);
            //Three.js comes with several materials, but we'll stick to the MeshBasicMaterial
            //All materials take an object of properties
            var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
            //A mesh is an object that takes a geometry, and applies a material to it, which we then can insert to our scene, and move freely around.
            var cube = new THREE.Mesh( geometry, material );
            scene.add( cube );
            //By default, when we call scene.add(), the thing we add will be added to the coordinates (0,0,0). This would cause both the camera and the cube to be inside each other. To avoid this, we simply move the camera out a bit.    
            camera.position.z = 5;

            //upto here, wont see anything except a canvas, need to run a render loop
            function render() {
                // /This will create a loop that causes the renderer to draw the scene 60 times per second
                //!!!!! pauses when the user navigates to another browser tab
                requestAnimationFrame(render);
                renderer.render(scene, camera);
            }
            render()
        </script>
    </body>
</html>